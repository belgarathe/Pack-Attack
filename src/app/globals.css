@import "tailwindcss";

/* ============================================
   CUSTOM FONTS & DESIGN SYSTEM
   ============================================ */

/* Font display class */
.font-display {
  font-family: 'Outfit', system-ui, -apple-system, sans-serif;
}

.font-heading {
  font-family: 'Syne', 'Outfit', system-ui, sans-serif;
}

/* ============================================
   NEW DESIGN SYSTEM - ANIMATIONS
   ============================================ */

@keyframes gradient-glow {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-20px); }
}

@keyframes pulse-live {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.1); }
}

.animate-gradient { 
  animation: gradient-glow 3s ease infinite; 
  background-size: 200% 200%;
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.pulse-live {
  animation: pulse-live 2s ease-in-out infinite;
}

/* Shimmer effect for buttons */
.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  animation: shimmer 2s infinite;
}

/* ============================================
   GLASS MORPHISM EFFECTS
   ============================================ */

.glass {
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.glass-strong {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ============================================
   GRADIENT UTILITIES
   ============================================ */

.gradient-border {
  position: relative;
  background: transparent;
}

.gradient-border::before {
  content: '';
  position: absolute;
  inset: 0;
  padding: 1px;
  border-radius: inherit;
  background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

/* Background grid pattern */
.bg-grid {
  background-image: 
    linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
  background-size: 50px 50px;
}

/* Radial gradient overlay */
.radial-gradient {
  background: radial-gradient(ellipse at center, transparent 0%, rgb(3 7 18) 70%);
}

/* ============================================
   CARD EFFECTS
   ============================================ */

.card-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 40px -12px rgba(59, 130, 246, 0.25);
}

/* ============================================
   RARITY GLOW ANIMATIONS
   ============================================ */

/* Uncommon - Green pulsing glow */
@keyframes glow-uncommon {
  0%, 100% {
    box-shadow: 0 0 15px rgba(74, 222, 128, 0.4),
                0 0 30px rgba(74, 222, 128, 0.2),
                inset 0 0 10px rgba(74, 222, 128, 0.1);
  }
  50% {
    box-shadow: 0 0 25px rgba(74, 222, 128, 0.6),
                0 0 50px rgba(74, 222, 128, 0.3),
                inset 0 0 15px rgba(74, 222, 128, 0.2);
  }
}

.animate-glow-uncommon {
  animation: glow-uncommon 2s ease-in-out infinite;
}

/* Rare - Blue intense glow */
@keyframes glow-rare {
  0%, 100% {
    box-shadow: 0 0 20px rgba(96, 165, 250, 0.5),
                0 0 40px rgba(96, 165, 250, 0.3),
                0 0 60px rgba(96, 165, 250, 0.1),
                inset 0 0 10px rgba(96, 165, 250, 0.15);
  }
  50% {
    box-shadow: 0 0 30px rgba(96, 165, 250, 0.7),
                0 0 60px rgba(96, 165, 250, 0.4),
                0 0 80px rgba(96, 165, 250, 0.2),
                inset 0 0 20px rgba(96, 165, 250, 0.25);
  }
}

.animate-glow-rare {
  animation: glow-rare 1.8s ease-in-out infinite;
}

/* Epic - Purple vibrant glow */
@keyframes glow-epic {
  0%, 100% {
    box-shadow: 0 0 25px rgba(192, 132, 252, 0.5),
                0 0 50px rgba(192, 132, 252, 0.3),
                0 0 75px rgba(192, 132, 252, 0.15),
                inset 0 0 15px rgba(192, 132, 252, 0.2);
  }
  50% {
    box-shadow: 0 0 40px rgba(192, 132, 252, 0.7),
                0 0 70px rgba(192, 132, 252, 0.45),
                0 0 100px rgba(192, 132, 252, 0.25),
                inset 0 0 25px rgba(192, 132, 252, 0.3);
  }
}

.animate-glow-epic {
  animation: glow-epic 1.5s ease-in-out infinite;
}

/* Legendary/Mythic - Gold rainbow shimmer glow */
@keyframes glow-legendary {
  0% {
    box-shadow: 0 0 30px rgba(251, 191, 36, 0.6),
                0 0 60px rgba(251, 191, 36, 0.4),
                0 0 90px rgba(251, 191, 36, 0.2),
                0 0 120px rgba(251, 146, 60, 0.1),
                inset 0 0 20px rgba(251, 191, 36, 0.25);
  }
  33% {
    box-shadow: 0 0 40px rgba(251, 146, 60, 0.7),
                0 0 80px rgba(251, 191, 36, 0.5),
                0 0 110px rgba(251, 191, 36, 0.3),
                0 0 140px rgba(245, 158, 11, 0.15),
                inset 0 0 30px rgba(251, 191, 36, 0.35);
  }
  66% {
    box-shadow: 0 0 45px rgba(245, 158, 11, 0.75),
                0 0 90px rgba(251, 191, 36, 0.55),
                0 0 120px rgba(251, 146, 60, 0.35),
                0 0 150px rgba(251, 191, 36, 0.2),
                inset 0 0 25px rgba(245, 158, 11, 0.3);
  }
  100% {
    box-shadow: 0 0 30px rgba(251, 191, 36, 0.6),
                0 0 60px rgba(251, 191, 36, 0.4),
                0 0 90px rgba(251, 191, 36, 0.2),
                0 0 120px rgba(251, 146, 60, 0.1),
                inset 0 0 20px rgba(251, 191, 36, 0.25);
  }
}

.animate-glow-legendary {
  animation: glow-legendary 1.2s ease-in-out infinite;
}

/* Game-specific badge colors */
.badge-mtg {
  background: linear-gradient(135deg, #b91c1c, #dc2626);
}

.badge-pokemon {
  background: linear-gradient(135deg, #eab308, #facc15);
  color: #000;
}

.badge-onepiece {
  background: linear-gradient(135deg, #dc2626, #ef4444);
}

.badge-lorcana {
  background: linear-gradient(135deg, #7c3aed, #8b5cf6);
}

/* ============================================
   CSS RESET & CROSS-BROWSER NORMALIZATION
   ============================================ */

/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Remove default margin and padding */
* {
  margin: 0;
  padding: 0;
}

/* Prevent font size inflation on mobile */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
  /* Prevent iOS zoom on input focus */
  touch-action: manipulation;
}

/* Core root settings */
:root {
  --primary: 59 130 246;
  --secondary: 139 92 246;
  
  /* Touch-friendly sizes - WCAG 2.1 recommends 44px minimum */
  --touch-target-min: 44px;
  --touch-target-comfortable: 48px;
  
  /* Safe area insets for notched devices (iPhone X+, Android cutouts) */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  
  /* Smooth scrolling */
  scroll-behavior: smooth;
  
  /* Responsive spacing scale */
  --spacing-xs: clamp(0.25rem, 1vw, 0.5rem);
  --spacing-sm: clamp(0.5rem, 2vw, 0.75rem);
  --spacing-md: clamp(0.75rem, 3vw, 1rem);
  --spacing-lg: clamp(1rem, 4vw, 1.5rem);
  --spacing-xl: clamp(1.5rem, 5vw, 2rem);
  
  /* Responsive font sizes - fluid typography */
  --text-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
  --text-sm: clamp(0.875rem, 0.8rem + 0.35vw, 1rem);
  --text-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --text-lg: clamp(1.125rem, 1rem + 0.6vw, 1.25rem);
  --text-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --text-2xl: clamp(1.5rem, 1.25rem + 1.25vw, 2rem);
  --text-3xl: clamp(1.875rem, 1.5rem + 1.875vw, 2.5rem);
  --text-4xl: clamp(2.25rem, 1.75rem + 2.5vw, 3rem);
  
  /* Breakpoint values for reference */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Remove list styles */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set shorter line heights on headings and interactive elements */
h1, h2, h3, h4,
button, input, label {
  line-height: 1.1;
}

/* Balance text wrapping on headings */
h1, h2, h3, h4 {
  text-wrap: balance;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentColor;
}

/* Make images easier to work with */
img,
picture,
video,
canvas,
svg {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Inherit fonts for inputs and buttons */
input,
button,
textarea,
select {
  font: inherit;
}

/* Remove default button styles */
button {
  background: none;
  border: none;
  cursor: pointer;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}

/* ============================================
   BODY STYLES
   ============================================ */

body {
  color: rgb(255 255 255);
  background: rgb(3 7 18);
  min-height: 100vh;
  min-height: 100dvh; /* Dynamic viewport height for mobile */
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Prevent horizontal scroll on mobile */
  overflow-x: hidden;
}

/* ============================================
   CROSS-BROWSER ANIMATIONS
   ============================================ */

@keyframes spin-slow {
  0% {
    transform: rotateY(0deg) scale(1);
  }
  25% {
    transform: rotateY(90deg) scale(1.05);
  }
  50% {
    transform: rotateY(180deg) scale(1.1);
  }
  75% {
    transform: rotateY(270deg) scale(1.05);
  }
  100% {
    transform: rotateY(360deg) scale(1);
  }
}

.animate-spin-slow {
  animation: spin-slow 0.6s ease-in-out infinite;
  transform-style: preserve-3d;
  will-change: transform;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Add smooth transitions for card animations */
.card-transition {
  transition: all 0.3s ease-in-out;
}

/* Ensure animations work on all browsers */
@supports (animation: spin-slow 0.6s) {
  .animate-spin-slow {
    animation: spin-slow 0.6s ease-in-out infinite;
  }
}

/* ============================================
   MOBILE-SPECIFIC OPTIMIZATIONS
   ============================================ */

/* Touch-friendly tap targets */
.touch-target {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}

/* Improve tap highlight on iOS */
button,
a,
[role="button"] {
  -webkit-tap-highlight-color: rgba(59, 130, 246, 0.2);
}

/* Prevent text selection on interactive elements */
button,
[role="button"],
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Safe area padding for notched devices */
.safe-area-padding {
  padding-left: max(1rem, var(--safe-area-inset-left));
  padding-right: max(1rem, var(--safe-area-inset-right));
}

.safe-area-padding-bottom {
  padding-bottom: max(1rem, var(--safe-area-inset-bottom));
}

/* ============================================
   RESPONSIVE CONTAINER
   ============================================ */

.container {
  width: 100%;
  max-width: 1280px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

@media (min-width: 640px) {
  .container {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .container {
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

/* ============================================
   SCROLLBAR STYLING (CROSS-BROWSER)
   ============================================ */

/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgb(17 24 39);
}

::-webkit-scrollbar-thumb {
  background: rgb(75 85 99);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(107 114 128);
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: rgb(75 85 99) rgb(17 24 39);
}

/* ============================================
   FOCUS STYLES (ACCESSIBILITY)
   ============================================ */

/* Remove default focus outline */
:focus {
  outline: none;
}

/* Custom focus-visible style */
:focus-visible {
  outline: 2px solid rgb(var(--primary));
  outline-offset: 2px;
}

/* Focus ring utility */
.focus-ring:focus-visible {
  outline: 2px solid rgb(var(--primary));
  outline-offset: 2px;
  border-radius: 0.375rem;
}

/* ============================================
   MOBILE MENU STYLES
   ============================================ */

.mobile-menu {
  position: fixed;
  inset: 0;
  top: 60px;
  z-index: 40;
  background: rgba(3, 7, 18, 0.98);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  transform: translateX(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.mobile-menu.open {
  transform: translateX(0);
}

/* Hamburger menu animation */
.hamburger-line {
  display: block;
  width: 24px;
  height: 2px;
  background: currentColor;
  transition: transform 0.3s ease, opacity 0.3s ease;
  border-radius: 1px;
}

.hamburger-active .hamburger-line:nth-child(1) {
  transform: rotate(45deg) translate(5px, 5px);
}

.hamburger-active .hamburger-line:nth-child(2) {
  opacity: 0;
}

.hamburger-active .hamburger-line:nth-child(3) {
  transform: rotate(-45deg) translate(5px, -5px);
}

/* ============================================
   FORM INPUT CROSS-BROWSER FIXES
   ============================================ */

/* Remove inner spin button from number inputs */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

/* Fix autofill background color */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 1000px rgb(17 24 39) inset;
  -webkit-text-fill-color: rgb(255 255 255);
  transition: background-color 5000s ease-in-out 0s;
}

/* ============================================
   IMAGE LOADING OPTIMIZATION
   ============================================ */

/* Prevent layout shift on images */
img {
  content-visibility: auto;
}

/* Skeleton loading state */
.skeleton {
  background: linear-gradient(
    90deg,
    rgb(31 41 55) 0%,
    rgb(55 65 81) 50%,
    rgb(31 41 55) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}

@keyframes skeleton-pulse {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  *,
  *::before,
  *::after {
    background: transparent !important;
    color: #000 !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  a,
  a:visited {
    text-decoration: underline;
  }

  img {
    max-width: 100% !important;
  }

  @page {
    margin: 2cm;
  }

  h2, h3 {
    page-break-after: avoid;
  }
}

/* ============================================
   HIGH CONTRAST MODE SUPPORT
   ============================================ */

@media (prefers-contrast: high) {
  :root {
    --primary: 96 165 250;
  }
  
  .border-gray-800 {
    border-color: rgb(156 163 175) !important;
  }
}

/* ============================================
   BROWSER-SPECIFIC OPTIMIZATIONS
   ============================================ */

/* Safari-specific fixes */
@supports (-webkit-touch-callout: none) {
  /* Fix Safari flexbox bugs */
  .flex {
    min-width: 0;
    min-height: 0;
  }
  
  /* Fix Safari input zoom on iOS */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  select,
  textarea {
    font-size: 16px;
  }
  
  /* Fix Safari position sticky */
  .sticky {
    position: -webkit-sticky;
    position: sticky;
  }
  
  /* Safari momentum scrolling */
  .overflow-auto,
  .overflow-y-auto,
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }
}

/* Firefox-specific fixes */
@-moz-document url-prefix() {
  /* Fix Firefox button text alignment */
  button {
    text-align: center;
  }
  
  /* Firefox scrollbar gutter */
  html {
    scrollbar-gutter: stable;
  }
  
  /* Fix Firefox select arrow */
  select {
    text-indent: 0.01px;
    text-overflow: '';
  }
}

/* Edge/Chromium-specific optimizations */
@supports (-ms-ime-align: auto) {
  /* Edge smooth scrolling enhancement */
  html {
    scroll-behavior: smooth;
  }
}

/* ============================================
   TABLET-SPECIFIC OPTIMIZATIONS (768px - 1024px)
   ============================================ */

@media (min-width: 768px) and (max-width: 1024px) {
  /* Increase touch targets for tablet */
  button,
  a,
  [role="button"],
  input,
  select,
  textarea {
    min-height: var(--touch-target-comfortable);
  }
  
  /* Tablet-optimized spacing */
  .container {
    padding-left: 2rem;
    padding-right: 2rem;
  }
  
  /* Tablet typography adjustments */
  h1 { font-size: var(--text-3xl); }
  h2 { font-size: var(--text-2xl); }
  h3 { font-size: var(--text-xl); }
}

/* ============================================
   LANDSCAPE MODE OPTIMIZATIONS
   ============================================ */

@media (orientation: landscape) and (max-height: 500px) {
  /* Reduce vertical spacing in landscape on phones */
  .py-12 { padding-top: 2rem; padding-bottom: 2rem; }
  .py-8 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
  .py-6 { padding-top: 1rem; padding-bottom: 1rem; }
  
  /* Adjust hero sections for landscape */
  .min-h-screen { min-height: 100dvh; }
  
  /* Hide non-essential elements in tight landscape */
  .landscape-hide {
    display: none !important;
  }
}

/* iPad landscape optimization */
@media (min-width: 1024px) and (max-width: 1366px) and (orientation: landscape) {
  .container {
    max-width: 100%;
    padding-left: 3rem;
    padding-right: 3rem;
  }
}

/* ============================================
   SMARTPHONE-SPECIFIC OPTIMIZATIONS (<640px)
   ============================================ */

@media (max-width: 639px) {
  /* Increase tap targets on small screens */
  button,
  a,
  [role="button"] {
    min-height: var(--touch-target-min);
    padding: 0.75rem 1rem;
  }
  
  /* Prevent horizontal overflow */
  body {
    overflow-x: hidden;
  }
  
  /* Full-width buttons on mobile */
  .btn-mobile-full {
    width: 100%;
    display: block;
  }
  
  /* Stack horizontal layouts */
  .mobile-stack {
    flex-direction: column !important;
  }
  
  /* Mobile typography */
  h1 { font-size: var(--text-2xl); }
  h2 { font-size: var(--text-xl); }
  h3 { font-size: var(--text-lg); }
  
  /* Reduce card padding on mobile */
  .card-mobile-compact {
    padding: 1rem;
  }
  
  /* Bottom navigation spacing */
  main {
    padding-bottom: max(1rem, var(--safe-area-inset-bottom));
  }
}

/* Very small phones (<375px) */
@media (max-width: 374px) {
  .container {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }
  
  /* Smaller text for tiny screens */
  body {
    font-size: 14px;
  }
}

/* ============================================
   TOUCH DEVICE OPTIMIZATIONS
   ============================================ */

/* Detect touch devices using hover media query */
@media (hover: none) and (pointer: coarse) {
  /* Remove hover effects on touch devices */
  .card-lift:hover {
    transform: none;
    box-shadow: none;
  }
  
  /* Add active states instead of hover */
  .card-lift:active {
    transform: scale(0.98);
    opacity: 0.9;
  }
  
  /* Increase touch targets on pure touch devices */
  button,
  a,
  [role="button"] {
    min-height: var(--touch-target-comfortable);
  }
  
  /* Disable hover states that cause sticky on touch */
  .hover\:bg-gray-800:hover {
    background-color: inherit;
  }
  
  .hover\:bg-gray-800:active {
    background-color: rgb(31 41 55);
  }
}

/* Devices with fine pointer (mouse users) */
@media (hover: hover) and (pointer: fine) {
  /* Enable smooth transitions on hover-capable devices */
  button,
  a,
  [role="button"] {
    transition: all 0.2s ease;
  }
  
  /* Smaller touch targets acceptable for mouse users */
  button,
  a,
  [role="button"] {
    min-height: 36px;
  }
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */

/* GPU acceleration for animations */
.animate-float,
.animate-gradient,
.animate-spin-slow,
.shimmer,
.card-lift {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Reduce paint areas */
.glass,
.glass-strong {
  isolation: isolate;
}

/* Optimize images for layout stability */
img,
video {
  content-visibility: auto;
  contain-intrinsic-size: auto 300px;
}

/* Reduce layout thrashing */
.contain-layout {
  contain: layout;
}

.contain-paint {
  contain: paint;
}

.contain-strict {
  contain: strict;
}

/* ============================================
   DARK MODE BROWSER CHROME OPTIMIZATIONS
   ============================================ */

/* Ensure dark scrollbars in light system mode */
@media (prefers-color-scheme: light) {
  html {
    color-scheme: dark;
  }
}

/* Force dark color scheme for consistent UI */
html {
  color-scheme: dark;
}

/* ============================================
   FORM CROSS-BROWSER ENHANCEMENTS
   ============================================ */

/* Consistent select styling across browsers */
select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239ca3af' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.75rem center;
  background-size: 12px;
  padding-right: 2.5rem;
}

/* Custom checkbox styling */
input[type="checkbox"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 1.25rem;
  height: 1.25rem;
  border: 2px solid rgb(75 85 99);
  border-radius: 0.25rem;
  background: rgb(17 24 39);
  cursor: pointer;
  transition: all 0.2s ease;
}

input[type="checkbox"]:checked {
  background: rgb(var(--primary));
  border-color: rgb(var(--primary));
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='white' d='M10 3L4.5 8.5 2 6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
}

/* Custom radio styling */
input[type="radio"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  width: 1.25rem;
  height: 1.25rem;
  border: 2px solid rgb(75 85 99);
  border-radius: 50%;
  background: rgb(17 24 39);
  cursor: pointer;
  transition: all 0.2s ease;
}

input[type="radio"]:checked {
  border-color: rgb(var(--primary));
  background: radial-gradient(circle, rgb(var(--primary)) 40%, transparent 45%);
}

/* Range slider cross-browser styling */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 8px;
  background: rgb(31 41 55);
  border-radius: 4px;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  background: rgb(var(--primary));
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.2s ease;
}

input[type="range"]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  background: rgb(var(--primary));
  border: none;
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.2s ease;
}

input[type="range"]::-webkit-slider-thumb:hover,
input[type="range"]::-moz-range-thumb:hover {
  transform: scale(1.1);
}

/* Date/time input cross-browser fixes */
input[type="date"],
input[type="time"],
input[type="datetime-local"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  color-scheme: dark;
}

/* File input styling */
input[type="file"] {
  cursor: pointer;
}

input[type="file"]::file-selector-button {
  background: rgb(var(--primary));
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  cursor: pointer;
  margin-right: 1rem;
  transition: background 0.2s ease;
}

input[type="file"]::file-selector-button:hover {
  background: rgb(37 99 235);
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Hide on mobile */
.hide-mobile {
  display: none;
}

@media (min-width: 768px) {
  .hide-mobile {
    display: block;
  }
}

/* Show on mobile only */
.show-mobile {
  display: block;
}

@media (min-width: 768px) {
  .show-mobile {
    display: none;
  }
}

/* Flex hide/show variants */
.hide-mobile-flex {
  display: none;
}

@media (min-width: 768px) {
  .hide-mobile-flex {
    display: flex;
  }
}

.show-mobile-flex {
  display: flex;
}

@media (min-width: 768px) {
  .show-mobile-flex {
    display: none;
  }
}

/* ============================================
   NAVIGATION RESPONSIVE STYLES
   ============================================ */

/* Desktop navigation - hidden on mobile, visible on large screens (1024px+) */
.desktop-nav {
  display: none;
}

@media (min-width: 1024px) {
  .desktop-nav {
    display: flex;
  }
}

/* Desktop right side - hidden on mobile, visible on tablet+ (768px+) */
.desktop-right {
  display: none;
}

@media (min-width: 768px) {
  .desktop-right {
    display: flex;
  }
}

/* Mobile right side - visible on mobile, hidden on tablet+ */
.mobile-right {
  display: flex;
}

@media (min-width: 768px) {
  .mobile-right {
    display: none;
  }
}

/* Mobile menu container - visible on mobile, hidden on tablet+ */
.mobile-menu-container {
  display: block;
}

@media (min-width: 768px) {
  .mobile-menu-container {
    display: none;
  }
}

/* Mobile backdrop - visible on mobile, hidden on tablet+ */
.mobile-backdrop {
  display: block;
}

@media (min-width: 768px) {
  .mobile-backdrop {
    display: none;
  }
}

/* Truncate text with ellipsis */
.truncate-text {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Visually hidden (accessible) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ============================================
   RESPONSIVE GRID UTILITIES
   ============================================ */

/* Auto-fit grid for responsive cards */
.grid-auto-fit {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 280px), 1fr));
  gap: 1.5rem;
}

/* Auto-fill grid for consistent card sizes */
.grid-auto-fill {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 280px), 1fr));
  gap: 1.5rem;
}

/* Tablet-optimized grid */
@media (min-width: 768px) and (max-width: 1024px) {
  .grid-auto-fit,
  .grid-auto-fill {
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 320px), 1fr));
  }
}

/* ============================================
   TABLET & PHONE VISIBILITY UTILITIES
   ============================================ */

/* Tablet only (768px - 1024px) */
.tablet-only {
  display: none;
}

@media (min-width: 768px) and (max-width: 1024px) {
  .tablet-only {
    display: block;
  }
  
  .tablet-only-flex {
    display: flex;
  }
  
  .tablet-only-grid {
    display: grid;
  }
}

/* Hide on tablet */
.tablet-hide {
  display: block;
}

@media (min-width: 768px) and (max-width: 1024px) {
  .tablet-hide {
    display: none !important;
  }
}

/* Phone only (<768px) */
.phone-only {
  display: block;
}

@media (min-width: 768px) {
  .phone-only {
    display: none;
  }
}

/* Desktop only (>1024px) */
.desktop-only {
  display: none;
}

@media (min-width: 1025px) {
  .desktop-only {
    display: block;
  }
  
  .desktop-only-flex {
    display: flex;
  }
}

/* ============================================
   RESPONSIVE SPACING UTILITIES
   ============================================ */

.gap-responsive {
  gap: var(--spacing-sm);
}

@media (min-width: 640px) {
  .gap-responsive {
    gap: var(--spacing-md);
  }
}

@media (min-width: 1024px) {
  .gap-responsive {
    gap: var(--spacing-lg);
  }
}

.padding-responsive {
  padding: var(--spacing-sm);
}

@media (min-width: 640px) {
  .padding-responsive {
    padding: var(--spacing-md);
  }
}

@media (min-width: 1024px) {
  .padding-responsive {
    padding: var(--spacing-lg);
  }
}

/* ============================================
   RESPONSIVE TEXT UTILITIES
   ============================================ */

.text-responsive-xs { font-size: var(--text-xs); }
.text-responsive-sm { font-size: var(--text-sm); }
.text-responsive-base { font-size: var(--text-base); }
.text-responsive-lg { font-size: var(--text-lg); }
.text-responsive-xl { font-size: var(--text-xl); }
.text-responsive-2xl { font-size: var(--text-2xl); }
.text-responsive-3xl { font-size: var(--text-3xl); }
.text-responsive-4xl { font-size: var(--text-4xl); }

/* ============================================
   iOS/ANDROID SPECIFIC FIXES
   ============================================ */

/* iOS rubber band scrolling fix */
@supports (-webkit-touch-callout: none) {
  body {
    overscroll-behavior-y: none;
  }
}

/* Android Chrome address bar height fix */
@supports (height: 100dvh) {
  .min-h-screen {
    min-height: 100dvh;
  }
  
  .h-screen {
    height: 100dvh;
  }
}

/* iOS input shadow removal */
input,
textarea {
  -webkit-appearance: none;
  border-radius: 0;
}

/* iOS button styling fix */
button,
[type="button"],
[type="submit"],
[type="reset"] {
  -webkit-appearance: none;
}

/* ============================================
   SCROLL BEHAVIOR ENHANCEMENTS
   ============================================ */

/* Smooth scroll with reduced motion respect */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

/* Scroll snap for carousels */
.scroll-snap-x {
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.scroll-snap-y {
  scroll-snap-type: y mandatory;
  -webkit-overflow-scrolling: touch;
}

.snap-start {
  scroll-snap-align: start;
}

.snap-center {
  scroll-snap-align: center;
}

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ============================================
   MODAL & OVERLAY TOUCH IMPROVEMENTS
   ============================================ */

/* Prevent background scroll when modal is open */
body.modal-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

/* iOS-specific modal scroll lock */
@supports (-webkit-touch-callout: none) {
  body.modal-open {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
}

/* ============================================
   LOADING STATE ANIMATIONS
   ============================================ */

/* Pulse animation for loading states */
@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.animate-pulse-soft {
  animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Bounce animation for attention */
@keyframes bounce-soft {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10%); }
}

.animate-bounce-soft {
  animation: bounce-soft 1s ease-in-out infinite;
}

/* ============================================
   NETWORK-AWARE OPTIMIZATIONS
   ============================================ */

/* Reduce animations on slow connections */
@media (prefers-reduced-data: reduce) {
  *,
  *::before,
  *::after {
    background-image: none !important;
    animation: none !important;
    transition: none !important;
  }
  
  img,
  video {
    content-visibility: auto;
  }
}
